@model Domain.Entities.Product
@{
    ViewData["Title"] = "Product Details";
}

<div class="product-details-container">
    <!-- Блок с фото (левая колонка) -->
    <div class="gallery-section">
        @if (Model.Images != null && Model.Images.Any())
        {
            <div class="thumbnail-column">
                @foreach (var img in Model.Images.OrderBy(i => i.SortOrder))
                {
                    <div class="thumbnail-item" data-target="@img.ImagePath">
                        <img src="@img.ImagePath" alt="Thumbnail" />
                    </div>
                }
            </div>

            <div class="main-image-container">
                <button class="nav-arrow left prev">❮</button>
                <img id="mainProductImage"
                     src="@Model.Images.OrderBy(i => i.SortOrder).FirstOrDefault()?.ImagePath"
                     alt="Main Image" />
                <button class="nav-arrow right next">❯</button>
            </div>
        }
        else
        {
            <div class="main-image-container">
                <span>No images available</span>
            </div>
        }
    </div>

    <!-- Блок с информацией (правая колонка) -->
    <div class="info-section">
        <h2>@Model.Title</h2>
        <p class ="product-condition">@Model.ProductCondition</p>
        <p class="product-condition">@Model.Category?.Name</p>
        <p><strong>Description:</strong> @Model.Description</p>
        <p><strong>Price:</strong> @Model.ProductPrice?.ToString("N0") $</p>
        <p><strong>Location:</strong> @Model.Location</p>
        <p><strong>Created:</strong> @Model.CreatedAt?.ToString("dd.MM.yyyy")</p>
        
        <a href="@Context.GetCallBackUrl("/products")">Back to Products</a>
    </div>
</div>